<div class="container mx-auto p-6 bg-gradient-to-br from-green-100 to-green-100 text-white">
  <div class="container mx-auto p-6 bg-gradient-to-br from-green-100 to-green-100 text-white">
    <div class="flex justify-between items-center mb-6">
      <!-- Título de la sección -->
      <h2 class="text-2xl font-semibold text-green-700">Plan Individual</h2>
      
      <!-- Botón de Salir -->
      <a href="/principal">
        <button 
          class="px-4 py-2 bg-red-500 text-white font-semibold rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500">
          Salir
        </button>
      </a>
    </div>

  <!-- Formulario Principal -->
  <div class="flex flex-wrap justify-between">
    <!-- Información a la izquierda -->
    <div class="w-full md:w-1/2 lg:w-1/3 p-4 bg-green-300 shadow-md rounded-lg">
      <p class="text-lg font-medium text-green-800">
        Pagarás una suscripción al <span class="font-semibold">Plan Individual</span> con un costo de <span class="font-bold">$199 pesos al mes o $2100 pesos al mes</span>.
      </p>
    </div>

    <!-- Formulario principal a la derecha -->
    <div class="w-full md:w-1/2 lg:w-1/3 p-4 text-green-800 bg-green-300 shadow-md rounded-lg">
      <form [formGroup]="padreForm" (ngSubmit)="onSubmit()">
        <!-- Nombre -->
        <div class="mb-4">
          <label for="Nombre" class="block text-sm font-medium">Nombre</label>
          <input id="Nombre" formControlName="Nombre" type="text" class="mt-1 p-2 w-full border border-gray-300 rounded-md text-black focus:outline-none focus:ring-2 focus:ring-green-500" />
          <div *ngIf="padreForm.get('Nombre')?.invalid && padreForm.get('Nombre')?.touched" class="text-red-500 text-sm mt-1">
            El nombre es obligatorio.
          </div>
        </div>

        <!-- Correo -->
        <div class="mb-4">
          <label for="Correo" class="block text-sm font-medium">Correo</label>
          <input id="Correo" formControlName="Correo" type="email" class="mt-1 p-2 w-full border border-gray-300 rounded-md text-black focus:outline-none focus:ring-2 focus:ring-green-500" />
          <div *ngIf="padreForm.get('Correo')?.invalid && padreForm.get('Correo')?.touched" class="text-red-500 text-sm mt-1">
            El correo es obligatorio y debe ser válido.
          </div>
        </div>

        <!-- Contraseña -->
        <div class="mb-4">
          <label for="Contrasena" class="block text-sm font-medium">Contraseña</label>
          <input id="Contrasena" formControlName="Contrasena" type="password" class="mt-1 p-2 w-full border border-gray-300 rounded-md text-black focus:outline-none focus:ring-2 focus:ring-green-500" />
          <div *ngIf="padreForm.get('Contrasena')?.invalid && padreForm.get('Contrasena')?.touched" class="text-red-500 text-sm mt-1">
            La contraseña es obligatoria.
          </div>
        </div>

        <!-- Método de Pago -->
        <div class="mb-4">
          <label for="MetodoPago" class="block text-sm font-medium">Método de Pago</label>
          <select id="MetodoPago" formControlName="MetodoPago" class="mt-1 p-2 w-full border border-gray-300 rounded-md text-black focus:outline-none focus:ring-2 focus:ring-green-500">
            <option value="Efectivo">Efectivo</option>
            <option value="Tarjeta">Tarjeta</option>
          </select>
        </div>

        <!-- Fecha de Expiración -->
        <div class="mb-6">
          <label for="FechaExpiracion" class="block text-sm font-medium">Fecha de Expiración</label>
          <select id="FechaExpiracion" formControlName="FechaExpiracion" class="mt-1 p-2 w-full border border-gray-300 rounded-md text-black focus:outline-none focus:ring-2 focus:ring-green-500">
            <option value="Mes">Mes</option>
            <option value="Año">Año</option>
          </select>
        </div>

        <!-- Botón de Envío -->
        <div class="flex justify-end">
          <button type="submit" [disabled]="padreForm.invalid" class="px-4 py-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 disabled:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
            Pagar
          </button>
        </div>
      </form>
    </div>

    <!-- Campos dinámicos a la derecha -->
    <div class="w-full md:w-1/2 lg:w-1/3 p-4 bg-green-300 shadow-md rounded-lg">
      <h3 class="text-xl text-green-700 font-semibold mb-4">Detalles de Pago</h3>
      <!-- Si el método de pago es efectivo -->
      <div *ngIf="padreForm.get('MetodoPago')?.value === 'Efectivo'">
        <p class="mb-2">Ingrese detalles adicionales para pago en efectivo.</p>
        
        <!-- Texto con número de cuenta -->
        <div class="mb-4">
          <p>
            Realice su depósito a la cuenta: <span class="font-semibold text-black-400">1234-5678-9012-3456</span>.
          </p>
        </div>
      
        <!-- Campo para cargar foto del comprobante -->
        <div class="mb-4">
          <label for="Comprobante" class="block text-sm font-medium">Subir comprobante de pago</label>
          <input 
            id="Comprobante" 
            type="file" 
            accept="image/*"
            class="mt-1 p-2 w-full border border-gray-300 rounded-md bg-gray-50 text-black focus:outline-none focus:ring-2 focus:ring-green-500"
          />
          <p class="text-sm mt-1">Formatos aceptados: JPG, PNG, JPEG.</p>
        </div>
      </div>
      
      <!-- Si el método de pago es tarjeta -->
      <div *ngIf="padreForm.get('MetodoPago')?.value === 'Tarjeta'">
        <p class="mb-2">Ingrese detalles de su tarjeta.</p>
        <div class="mb-4">
          <label for="NumeroTarjeta" class="block text-sm font-medium">Número de Tarjeta</label>
          <input id="NumeroTarjeta" type="text" formControlName="NumeroTarjeta" class="mt-1 p-2 w-full border border-gray-300 rounded-md text-black focus:outline-none focus:ring-2 focus:ring-green-500" />
        </div>
        <div class="mb-4">
          <label for="CVC" class="block text-sm font-medium">CVC</label>
          <input id="CVC" type="text" formControlName="CVC" class="mt-1 p-2 w-full border border-gray-300 rounded-md text-black focus:outline-none focus:ring-2 focus:ring-green-500" />
        </div>
      </div>
    </div>
  </div>

  <!-- Modal de éxito -->
  <div 
    *ngIf="pagoExitoso" 
    class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"
    (click)="cerrarModal()">
    <div 
      class="bg-green-300 p-6 rounded-lg shadow-lg text-center" 
      (click)="$event.stopPropagation()"> <!-- Evitar que el clic dentro del modal lo cierre -->
      <h3 class="text-xl font-semibold text-white">Pago realizado con éxito</h3>
      <p class="mt-2">¡Tu pago ha sido procesado correctamente!</p>
      <p class="mt-2">Descarga la app aquí</p>
      <button 
        (click)="cerrarModal()" 
        class="mt-4 px-4 py-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
        Cerrar
      </button>
    </div>
  </div>
</div>
